<!-- Welcome to the code! ==================================================================== -->

<!-- If you like the project and think you can bring some tech/deisgn skills to the table, tweet me on @jonathan5mith-->

<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>Kick &middot; get started</title>

<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js" type="text/javascript" ></script>
<script src="//www.parsecdn.com/js/parse-1.4.0.min.js"></script>

<!-- Favs --> 
<!--==============================================-->

<link rel="apple-touch-icon-precomposed" sizes="57x57" href="img/apple-touch-icon-57x57.png" />
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="img/apple-touch-icon-114x114.png" />
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="img/apple-touch-icon-72x72.png" />
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="img/apple-touch-icon-144x144.png" />
<link rel="apple-touch-icon-precomposed" sizes="60x60" href="img/apple-touch-icon-60x60.png" />
<link rel="apple-touch-icon-precomposed" sizes="120x120" href="img/apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon-precomposed" sizes="76x76" href="img/apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon-precomposed" sizes="152x152" href="img/apple-touch-icon-152x152.png" />
<link rel="icon" type="image/png" href="img/favicon-196x196.png" sizes="196x196" />
<link rel="icon" type="image/png" href="img/favicon-96x96.png" sizes="96x96" />
<link rel="icon" type="image/png" href="img/favicon-32x32.png" sizes="32x32" />
<link rel="icon" type="image/png" href="img/favicon-16x16.png" sizes="16x16" />
<link rel="icon" type="image/png" href="img/favicon-128.png" sizes="128x128" />
<meta name="application-name" content="&nbsp;"/>
<meta name="msapplication-TileColor" content="#FFFFFF" />
<meta name="msapplication-TileImage" content="img/mstile-144x144.png" />
<meta name="msapplication-square70x70logo" content="img/mstile-70x70.png" />
<meta name="msapplication-square150x150logo" content="img/mstile-150x150.png" />
<meta name="msapplication-wide310x150logo" content="img/mstile-310x150.png" />
<meta name="msapplication-square310x310logo" content="img/mstile-310x310.png" />


<!-- CSS -->
<!--==============================================-->

<link href="css/bootstrap.min.css" rel="stylesheet">
<link href="css/kick.css" rel="stylesheet">

<!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->

<!-- Google Fonts -->
<!--==============================================-->

<link href='http://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=Berkshire+Swash' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=Londrina+Solid' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=Muli' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro:400,900' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=Karla' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=Lato:300,400,500, 700,900|Merriweather' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=Roboto:400,900' rel='stylesheet' type='text/css'>


<!-- Font Awesome -->
<!--==============================================-->

<link href="http://maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">

</head>



<!-- Body begins -->
<!--==============================================-->

<body >

<!-- Navbar -->
<!--==============================================-->

<nav class="navbar navbar-default navbar-fixed-top" role="navigation" data-options="scrolltop: false">
<div class="container">
<div class="navbar-header">
  <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
    <span class="sr-only">Toggle navigation</span>
    <span class="icon-bar"></span>
    <span class="icon-bar"></span>
    <span class="icon-bar"></span>
  </button>
  <a class="navbar-brand" href="index.html"> <img src="https://dl.dropboxusercontent.com/u/10455351/Assets/kick%20white%20small2.png"/></a>
</div>
<div id="navbar" class="collapse navbar-collapse">
  <ul class="nav navbar-nav navbar-right">

    <li><a href="http://runwithkick.com/getstarted"><b>Get Started</b></a></li>
    <li><a href="http://runwithkick.com/enter">Enter 5k</a></li>
    <li><a href="http://runwithkick.com/submit">Submit Time</a></li>
    <li><a href="http://runwithkick.com/about">About</a></li>
    <!--<li><a href="https://www.strava.com/clubs/kick-122494" target="_blank" title="Strava"><img src="https://dl.dropboxusercontent.com/u/10455351/Assets/strava1.png"/></a></li>-->
    <li><a href="http://www.twitter.com/runwithkick" target="_blank" title="Twitter"><i class="fa fa-twitter social-icons"></i></a></li>
    <li><a href="https://www.facebook.com/runwithkick" target="_blank" title="Facebook"><i class="fa fa-facebook social-icons"></i></a></li>
    <!--<li><a href="https://www.instagram.com/jonathan5mith" target="_blank" title="Instagram"><i class="fa fa-instagram social-icons"></i></a></li>-->

  </ul>
</div><!--/.nav-collapse -->
</div>
</nav>

<!-- Sub navbar - picture, text container & text-->
<!--==============================================-->

<div class="sub-navbar2">
<div class="text-containera">
<p class="line1">Get Started</p>
</div> 
</div>

<!-- Main page content-->
<!--==============================================-->


<p class="subheaders">This is where it all starts, sign up for Kick below using your Twitter handle, and you can <a href="http://www.runwithkick.com/enter">enter </a> the weekly 5k race straight away! If you've favorited the race tweet, you'll be entered automatically (although not necessarily straight away!), but you still need to sign up to submit your time.</p>

<div class="maincontain"> 
<div class="formcontain">
<div class="cardsform">
<div class="border-bottom">
<p class="mainheaders"><span id="removeimage">Sign Up</span><span id="thanks"></span></p>

</div>
<div class="border-below">

<div id="formremove">
  
  <div class="form-group">
    <label>*First Name</label>
    <input type="name" class="form-control" id="firstname" placeholder="First Name" required>
  </div>

  <div class="form-group">
    <label>*Last Name</label>
    <input type="name" class="form-control" id="lastname" placeholder="Last Name" required>
  </div>

  <div class="form-group">
    <label>*City</label>
    <input type="name" class="form-control" id="city" placeholder="City" required>
  </div>

  <div class="form-group">
    <label for="exampleInputPassword1">*Country</label>
    <input type="name" class="form-control" id="country" placeholder="Country" required>
  </div>

  <div class="form-group">
    <label>*Twitter Handle</label>
    <input type="twitterhandle" class="form-control" id="twitterhandle" placeholder="e.g. @runwithkick" required>
  </div>

  <div class="form-group">
    <label>*Email Address <i class="fa fa-question-circle" title="We'll send you a confirmation email with your Kick ID. We'll also send some (infrequent and hopefully nice!) updates about Kick. Just tick below if you don't want to hear from us after your confirmation"></i></label>
    <input type="email" class="form-control" id="emailaddress" placeholder="Email address" required>
  </div>

  
 <!--<div class="form-group">
  <p style="font-weight:400;">Your best 5k in the last 6 months <i class="fa fa-question-circle" title="If you've not done a 5k recently, or even before, leave this blank and get out and run one. You can put your time in later."></i></p>

  <div class="col-xs-6 nopadding">
      <input type="text" class="form-control pull-left" placeholder="mm" id="mm"/>
  </div>
  <div class="col-xs-6 nopadding">
      <input type="text" class="form-control pull-left" placeholder="ss" id="ss"/>
  </div>
    <p style="font-size:14px">You can leave this blank and submit your time later.</p>
</div>-->


  <!--<div class="form-group">
    <label >Validation  <i class="fa fa-question-circle" title="Provide a link to your online activities (e.g. Parkrun/Strava page) here if you want to be validated - we will do spot checks of validated runners. It's not required, but gives your fellow runners peace of mind that you're not pulling a fast one!"></i></label>
    <input type="text" class="form-control" id="validated" placeholder="Link" required>
  </div>-->

<div class="checkbox" >
  <label style="font-size:14px; font-weight:300">
  <input type="checkbox" id="emailoff" >Don't send me stuff in the future</label>
</div>


  <p style="line-height: 40px; text-align:center">
    <button type="submit" id="submit" onclick="formSubmit(); " class="btn btn-default">Let's Go!</button>
  </p>

</div>

<p><span id="formconfirm"></span><span id="emailconfirm"></span></p>
<span id="formconfirm1"></span>




</div>
</div>
</div>
</div>

<!-- Get started-->
<!--==============================================-->



<!-- Bottom Navbar-->
<!--==============================================-->


<div class="bottomnav">

<div class="bottombar">
    <div class="row coltext">
      <div class="col-sm-2">
      </div>
      <div class="col-sm-2 col-xs-6">
        <h2 id="getstarted"><a href="http://www.runwithkick.com/getstarted">Get Started</a></h2>
      </div>
      <div class="col-sm-2 col-xs-6">
        <h2 id="getstarted"><a href="http://www.runwithkick.com/enter">Enter Race</a></h2>
      </div>
      <div class="col-sm-2 col-xs-6">
        <h2 id="getstarted"><a href="http://www.runwithkick.com/submit">Submit Time</a></h2>
      </div>
            <div class="col-sm-2 col-xs-6">
        <h2 id="getstarted"><a href="http://www.runwithkick.com/gotoprofile">Go to Profile</a></h2>
      </div>
            <div class="col-sm-2">
      </div>
    </div>

</div>
    <!--<p style="padding-top:10px; padding-bottom:0px; text-align:center">© 2015 Jonathan Smith</p>-->

</div>






<!-- Parse stuff-->
<!--==============================================-->


<script type="text/javascript">
// Initialisation

function formSubmit() {

var firstname = document.getElementById("firstname").value;
var lastname = document.getElementById("lastname").value;
var emailaddress = document.getElementById("emailaddress").value;
var twitterhandle1 = document.getElementById("twitterhandle").value;
var twitterhandle2 = twitterhandle1.split("@").pop();
var twitterhandle = twitterhandle2.toLowerCase();
var twitterpic = 'https://twitter.com/'+twitterhandle+'/profile_image?size=original';
var city = document.getElementById("city").value;
var country = document.getElementById("country").value;
var emailoff = document.getElementById("emailoff").checked;


function makeid()
{
var text = "";
var possible = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";

for( var i=0; i < 8; i++ )
text += possible.charAt(Math.floor(Math.random() * possible.length));

return text;
}

var kickId = makeid();

if(firstname.length==0||lastname.length==0||city.length==0||country.length==0||twitterhandle.length==0||emailaddress.length==0){
document.getElementById("formconfirm").innerHTML = "<br><p style='color:#990000; text-align:center'>Please fill in all required fields</p>"
}


else{

Parse.initialize("ImFHWsA4AQ8lDUSfaDlsokY2C6ld3e12bDtfecJ0", "7FynBYH2bC7k3NCvGoKtFsyNw0aTytfvtFo0H2Ei");
var NewUser = Parse.Object.extend("upload1");
var newUser = new NewUser();


newUser.set("firstName", firstname);
newUser.set("lastName", lastname);
newUser.set("emailAddress", emailaddress);
newUser.set("TwitterHandle", twitterhandle);
newUser.set("city", city);
newUser.set("country", country);
newUser.set("twitterPicture", twitterpic);
newUser.set("runTimes", []);
newUser.set("runTimesHidden",[]);
newUser.set("points",0);
newUser.set("kickId", kickId);
newUser.set("kickEntrants",[]);
newUser.set("kickEntered",[]);
newUser.set("emailOff", emailoff);
newUser.set("lastWeek",[]);
}


newUser.save(null, {
success: function(newUser) {
document.getElementById("formconfirm").innerHTML = "Congratuations, "+firstname+", you're all signed up. ";
document.getElementById("formconfirm1").innerHTML ="<p>Now you're signed up, you can <a href='http://runwithkick.com/enter' target='_blank'>enter</a> the race and check out your <a href='http://runwithkick.com/profile?id="+twitterhandle+"' target='_blank'>profile</a> which you can see at any time by going to runwithkick.com/profile/"+twitterhandle+"</p><p>Follow Kick on Twitter or Facebook using the links below</p><p style='text-align:center; font-size:15px; padding-top:20px'><a href='http://www.twitter.com/runwithkick' target='_blank' title='Kick on Twitter'><i class='fa fa-twitter social-icons'></i> Kick on Twitter </a>&nbsp;&nbsp;<a href='http://www.facebook.com/runwithkick' target='_blank' title='Kick on Facebook'><i class='fa fa-facebook social-icons'></i> Kick on Facebook</a></p>";
var elem = document.getElementById("formremove");
elem.parentNode.removeChild(elem);
var elem = document.getElementById("removeimage");
elem.parentNode.removeChild(elem);
document.getElementById("thanks").innerHTML = 'Congratuations!';

Parse.Cloud.run('myMandrillFunction', {
Address: emailaddress,
EmailText: "Hi "+firstname+", welcome to Kick!\r\n\r\nYour Kick ID is "+kickId+". Keep this safe as you'll need it to submit your time, and you can use it to enter future races.\r\n\r\nRemember, you can also favorite the weekly race tweet to enter the race too! Check out twitter.com/runwithkick to find it.\r\n\r\nGood Luck!",
}, {
  // Success handler
  success: function(message) {
  document.getElementById("emailconfirm").innerHTML = 'An email will be sent to '+emailaddress+" with your Kick ID, which you'll need to submit your time. Please check your junk folder if you don't get it!";

  },
  // Error handler
  error: function(message) {
  document.getElementById("emailconfirm").innerHTML = "At this point you should have been sent an email with your Kick ID, but it looks like it's not worked, please contact jon@runwithkick.com and I'll sort it all out.";
  }
});


},
error: function(newUser, error) {
alert("It looks like something's gone wrong. It's probably a server thing, but contact jon@runwithkick.com if the problem persists");
}
});

var queryExplore = new Parse.Query(NewUser);
queryExplore.equalTo("kickId", "123A");
queryExplore.first({
success: function(object){
object.addUnique("kickEntered",twitterhandle);
object.save();
},
error: function(error){
    alert("It looks like something's gone wrong. It's probably a server thing, but contact jon@runwithkick.com if the problem persists");
}

});

}





</script>



<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="js/bootstrap.min.js"></script>

<!--Browser Warning.js-->
<!--==============================================-->

<script> 
var $buoop = {c:2}; 
function $buo_f(){ 
var e = document.createElement("script"); 
e.src = "//browser-update.org/update.js"; 
document.body.appendChild(e);
};
try {document.addEventListener("DOMContentLoaded", $buo_f,false)}
catch(e){window.attachEvent("onload", $buo_f)}
</script> 

</body>
</html>
