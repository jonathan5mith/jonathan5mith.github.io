
<!-- CSS -->


<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Kick</title>
    <link rel="shortcut icon" href="https://dl.dropboxusercontent.com/u/10455351/Assets/browser_icon.ico">
    <script src='js/Chart.js'></script>
    <script src="//www.parsecdn.com/js/parse-1.3.4.min.js"></script>
    </head>

<!-- CSS -->
<!--==============================================-->
    
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/kick.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

<!-- Google Fonts -->
<!--==============================================-->

<link href='http://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=Berkshire+Swash' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=Londrina+Solid' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=Muli' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro:400,900' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=Karla' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=Lato:300,400,500,700,900|Merriweather' rel='stylesheet' type='text/css'>


<!-- Font Awesome -->
<!--==============================================-->

<link href="http://maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">

  </head>



<!-- Body begins -->
<!--==============================================-->

  <body >
    
<!-- Navbar -->
<!--==============================================-->

    <nav class="navbar navbar-default navbar-fixed-top" role="navigation">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="index.html"> <img src="https://dl.dropboxusercontent.com/u/10455351/Assets/kick%20white%20small2.png"/></a>
        </div>
        <div id="navbar" class="collapse navbar-collapse">
          <ul class="nav navbar-nav navbar-right">
            <!--<li class="active"><a href="index.html">Home</a></li>-->
            <li><a href="http://www.mykick.co" target="_blank">Blog</a></li>
            <li><a href="https://www.strava.com/clubs/kick" target="_blank" title="Strava"><img src="https://dl.dropboxusercontent.com/u/10455351/Assets/strava1.png"/></a></li>
            <li><a href="http://www.twitter.com/jonathan5mith" target="_blank" title="Twitter"><i class="fa fa-twitter social-icons"></i></a></li>
            <li><a href="https://www.facebook.com/itskickrace" target="_blank" title="Facebook"><i class="fa fa-facebook social-icons"></i></a></li>
            <li><a href="https://www.instagram.com/jonathan5mith" target="_blank" title="Instagram"><i class="fa fa-instagram social-icons"></i></a></li>

          </ul>
        </div><!--/.nav-collapse -->
      </div>
    </nav>


<!-- Sub navbar - picture, text container & text-->
<!--==============================================-->
  
<div class="sub-navbar2">
</div>

<!-- Main page content-->
<!--==============================================-->


<div class="maincontain">

<!-- Profile Image-->


  <div id="container">
     <span id="twitterpicture"></span>
  </div>

<!-- Profile Name-->

  <div id="profile-name">

    <p class="mainheaders"><span id="name"></span></p>
    <p class="subheaders"><span id="location"></span><span id="validateduser"></span></p>
      
  </div>

<!-- Columns-->

  <div class="row coltext">
    
<!-- Column 1-->

  <div class="col-md-4">
    <div class="cards">
      <div class="border-bottom">
        <p class="mainheaders">My Stats</p>
      </div>

      <div class="border-below">
      
      <table>
        
        <tr>
          <td><p id="stats"><span>Points</span></td> <td><span id="points" ></span></p></td>
        </tr>

        <tr>
          <td><p id="stats"><span>Total Kicks</span></td>  <td><span id="totalkicks"></span></p></td>
        </tr>

        <tr id="borderbelowrow">
          <td><p id="stats" ><span>Best Kick</span></td> <td><span id="PB"></span></p></td>
        </tr>

        <tr>
          <td><p id="stats"><span>Recent Kicks</span></p></td><td></td>
        </tr>

      </table>
      </div>
      
      <canvas id="buyers" width="400" height="200"></canvas>
    </div>
  </div>

<!-- Column 2-->

  <div class="col-md-4 ">
 
      <div class="cards">
        <div class="border-bottom">
          <p class="mainheaders">My Vests</p>
        </div>
        
        <div class="border-below bottomlinkpadding">
                 
        <table>
          <tr>
            <td id="tablefix">
              <span id="vest1"></span>
            </td>
            <td>
              Helsinki
            </td>
          </tr>
          <tr>
            <td id="tablefix">
              <span id="vest2"></span>
            </td>
            <td>
              Tokyo
            </td>
          </tr>  
        </table>
        
          <div id="spacer">
            <p class="subheaders bottomlink"> All vests  <i class="fa fa-angle-right"></i></p>    
          </div>
        </div>  
      </div>

 <!-- Card 2-->

    <div class="cards twoinrow">
      <div class="border-bottom">
        <p class="mainheaders">Next Vest</p>
      </div>
      
      <div class="border-below">
        <table>
          <tr>
            <td id="tablefix">
              <img src="https://dl.dropboxusercontent.com/u/10455351/Assets/london.png"\><p id="vesttag">
            </td>
            <td>
              London
            </td>
        </table>
      </div>
    </div>
  </div>

  <!-- Column 3-->
  
  <!-- Card 1-->
    <div class="col-md-4">
      <div class="cards">
        <div class="border-bottom">
          <p class="mainheaders">Completed Events</p>
        </div>
        <div class="border-below bottomlinkpadding">
          <table >
          <tr>
            <td id="tablefix">
              <img src="https://dl.dropboxusercontent.com/u/10455351/Assets/bupa.png"\><p id="vesttag">
            </td>
            <td>
              Great Online Run
            </td>
          </tr>
          <tr>
            <td id="tablefix">
              <img src="https://dl.dropboxusercontent.com/u/10455351/Assets/adidas.png"\><p id="vesttag">
            </td>
            <td>
              Online Boost
            </td>
          </tr>
          <tr>
            <td id="tablefix">
              <img src="https://dl.dropboxusercontent.com/u/10455351/Assets/CR.png"\><p id="vesttag">
            </td>
            <td>
              Kick Cancer
            </td>
          </tr>    
          </table>
          <div id="spacer">
            <p class="subheaders bottomlink"> Events  <i class="fa fa-angle-right"></i></p>    
          </div>
        </div>
      </div>

  <!-- Card 2-->
      
      <div class="cards twoinrow">
        <div class="border-bottom">
          <p class="mainheaders">Next Event</p>
        </div>
      
        <div class="border-below">
          <table>
          <tr>
            <td id="tablefix">
              <img src="https://dl.dropboxusercontent.com/u/10455351/Assets/RW.png"\><p id="vesttag">
            </td>
            <td>
              Runners World 10k
            </td>
          </table>
        </div>
      </div>


    </div>
</div>
</div>




<!-- Bottom Navbar-->
<!--==============================================-->


<div class="bottomnav">
  <p>Â© Kick. All rights reserved</p>
</div>




<!-- Javascript Stuff-->
<!--==============================================-->



<!--Bootstrap-->

    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="js/bootstrap.min.js"></script>


<!-- Parse-->
<!--==============================================-->
  
<script type="text/javascript">

// Initialisation

Parse.initialize("ImFHWsA4AQ8lDUSfaDlsokY2C6ld3e12bDtfecJ0", "7FynBYH2bC7k3NCvGoKtFsyNw0aTytfvtFo0H2Ei");

// Defining class

var person1 = prompt("Please enter your Twitter Handle?");
var person = person1.toLowerCase();
var personalInfo = Parse.Object.extend("upload1");

//-----------------PB query

var queryPB = new Parse.Query(personalInfo);
queryPB.equalTo("TwitterHandle", person);
queryPB.first({
  success: function(object) {
    var PB = object.get('personalBest');  
    document.getElementById("PB").innerHTML = PB;
  },
  error: function(error) {
    document.getElementById("PB").innerHTML = "N/A";
  }
});

// -----------------Name query

var queryName = new Parse.Query(personalInfo);
queryName.equalTo("TwitterHandle", person);
queryName.first({
  success: function(object) {
    var firstname = object.get('firstName');
    var lastname = object.get('lastName');
    document.getElementById("name").innerHTML = firstname+" "+lastname;
  },
  error: function(error) {
    document.getElementById("name").innerHTML = "N/A";
  }
  }
);

// -----------------Validated query


var queryValidated = new Parse.Query(personalInfo);
queryValidated.equalTo("TwitterHandle", person);
queryValidated.first({
  success: function(object) {
    var validated = object.get('validated');
    if (validated==true) {
      document.getElementById("validateduser").innerHTML = ' <i title="Validated User" class="fa fa-check-circle"></i>';
    }
    else {
      document.getElementById("validateduser").innerHTML = '';
    }
  },
  error: function(error) {
    document.getElementById("name").innerHTML = "N/A";
  }
  }
  
);

// -----------------Points query

var queryPoints = new Parse.Query(personalInfo);
queryPoints.equalTo("TwitterHandle", person);
queryPoints.first({
  success: function(object) {
    var points = object.get('points');  
    document.getElementById("points").innerHTML = points;
  },
  error: function(error) {
    document.getElementById("points").innerHTML = "N/A";
  }
});

// -----------------Total Kicks query

var queryTotalKicks = new Parse.Query(personalInfo);
queryTotalKicks.equalTo("TwitterHandle", person);
queryTotalKicks.first({
  success: function(object) {
    var totalKicks = object.get('totalKicks');  
    document.getElementById("totalkicks").innerHTML = totalKicks;
  },
  error: function(error) {
    document.getElementById("totalkicks").innerHTML = "N/A";
  }
}
);

// -----------------Profile image

var queryPic = new Parse.Query(personalInfo);
queryPic.equalTo("TwitterHandle", person);
queryPic.first({
  success: function(object) {
    var twitterpic = object.get('twitterPicture');
    document.getElementById("twitterpicture").innerHTML = '<div id="inner" style="background-image: url('+twitterpic+')"></div>';
  },
  error: function(error) {
    document.getElementById("twitterpicture").innerHTML = "N/A";
  }
  }
);

// -----------------Location

var queryLocation = new Parse.Query(personalInfo);
queryLocation.equalTo("TwitterHandle", person);
queryLocation.first({
  success: function(object) {
    var city = object.get('city');
    var country = object.get('country');
    document.getElementById("location").innerHTML = city+", "+country;
  },
  error: function(error) {
    document.getElementById("location").innerHTML = "N/A";
  }
  }
);


// -----------------Times

//api

var queryTimes = new Parse.Query(personalInfo);
queryTimes.equalTo("TwitterHandle", person);
queryTimes.first({
  success:function(object) {
    var times = object.get('runTimes');
    var runtimes= times.slice(-5);
    var buyerData = {
  labels : runtimes,
  datasets : [
    {
      strokeColor : "rgba(150,150,150,.5)",
      pointColor : "rgba(100,100,100,.9)",
      pointStrokeColor : "rgba(100,100,100,.9)",
      pointHighlightFill: "#FFF",
      pointHighlightStroke: "rgba(100,100,100,.9)",
      data : runtimes,
      }
  ]
}
    var buyers = document.getElementById('buyers').getContext('2d');
    buyers.canvas.width = 240;
    buyers.canvas.height = 160;
    new Chart(buyers).Line(buyerData,{
      scaleShowGridLines : false,
      scaleFontColor:"rgba(100,100,100,0)",
      scaleLineColor: "rgba(100,100,100,0)",
      tooltipTemplate: "<%= label %>",
      tooltipFillColor: "rgba(100,100,100,0.8)",
      tooltipFontSize: 11,
      tooltipCornerRadius: 3,
      tooltipFontFamily: "'Lato', sans-serif",
      animation:false,
      pointHighlightFill: "white"
        
    });


    },
  error: function(error) {
    document.getElementById("runtimes").innerHTML = "N/A";
  },
});

// -----------------Vests



var queryVests = new Parse.Query(personalInfo);
queryVests.equalTo("TwitterHandle", person);
queryVests.first({
  
  success: function(object) {
            var vests = object.get('vestsTogether');
            if(vests[2]=true){
              alert("yay");
            }
            else{
              alert("nay");
            }

    },
    
  


}
);



      //document.getElementById("vest"+vestno.toString()).innerHTML = 'vest'+vestno.toString();


</script>

<!--Browser Warning.js-->
<!--==============================================-->

<script> 
var $buoop = {c:2}; 
function $buo_f(){ 
 var e = document.createElement("script"); 
 e.src = "//browser-update.org/update.js"; 
 document.body.appendChild(e);
};
try {document.addEventListener("DOMContentLoaded", $buo_f,false)}
catch(e){window.attachEvent("onload", $buo_f)}
</script> 
	





 
</body>
</html>

  </body>
</html>
